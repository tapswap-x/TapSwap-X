// ==UserScript==
// @name         TapSwap X
// @namespace    http://tampermonkey.net/
// @version      Final
// @description  Autoclicker and other features for TapSwap
// @author       TapSwap X
// @match        https://app.tapswap.club/?bot=app_bot_0
// @match        https://web.telegram.org/a/
// @match        https://web.telegram.org/k/
// @icon         https://i.postimg.cc/0yC2xrLT/xicon.png
// @grant        none
// @run-at       document-start
// ==/UserScript==

const _0x46af03=_0x3d21;(function(_0x52ac46,_0x44921b){const _0xa3d521=_0x3d21,_0x4f1d49=_0x52ac46();while(!![]){try{const _0x45af73=-parseInt(_0xa3d521(0x15a))/0x1+-parseInt(_0xa3d521(0x14f))/0x2+parseInt(_0xa3d521(0x19d))/0x3*(-parseInt(_0xa3d521(0x1b0))/0x4)+-parseInt(_0xa3d521(0x152))/0x5+parseInt(_0xa3d521(0x156))/0x6+-parseInt(_0xa3d521(0x17a))/0x7+parseInt(_0xa3d521(0x1ad))/0x8*(parseInt(_0xa3d521(0x17c))/0x9);if(_0x45af73===_0x44921b)break;else _0x4f1d49['push'](_0x4f1d49['shift']());}catch(_0x55324b){_0x4f1d49['push'](_0x4f1d49['shift']());}}}(_0x3cc5,0xb5a72));const i=_0x46af03(0x177);function e(){const _0x498c0e=_0x46af03;new PerformanceObserver(_0x5732df=>{const _0x47c302=_0x3d21;_0x5732df[_0x47c302(0x189)]()[0x0][_0x47c302(0x18c)][_0x47c302(0x18a)](i)&&open(_0x5732df[_0x47c302(0x189)]()[0x0]['name'][_0x47c302(0x182)](/(tgWebAppPlatform=)[^&]+/,'$1ios'));})[_0x498c0e(0x171)]({'entryTypes':[_0x498c0e(0x1a4)]});}function t(){s();}_0x46af03(0x16b)==location[_0x46af03(0x158)]?e():location['origin']==i&&t();let r;function _0x3cc5(){const _0x200ca4=['green','onclick','floor','every','navService','cssRules','TapSwap\x20X','linear-gradient(180deg,\x20#fce0991a,\x20#efac461a\x2014.5%,\x20#e59a2a1a\x2045.5%,\x20#dc87071a)','brightness(0.5)','makeDarker','random','https://web.telegram.org','value','filter','_building_','props','init','observe','\x20class=','interval','styleSheets','border','red','https://app.tapswap.club','includes','borderColor','2467836pXmvAg','IMG','27017829BVvmuO','nodeName','applyTap','/assets/','tsx-img-rocket','beforeend','replace','grayscale(1)','taps','className','canTap','tagName','#ex1-layer','getEntries','startsWith','end','name','#E04747','parentElement','find','_conf','prototype','querySelectorAll','player','rgba(40,\x20224,\x20185,\x20.2)','https://api.tapswap.club/api/account/challenge','src','style','required','yellow','buildingsInProgress','page','insertAdjacentHTML','18XlgPUu','forEach','push','<button\x20id=','background','\x20src=\x22https://i.postimg.cc/vB2sTVzK/rocket.png\x22\x20alt=\x22rocket\x22\x20width=\x2228\x22\x20height=\x2228\x22\x20draggable=\x22false\x22></div></button>','selectorText','resource','img','degray','https://app.tapswap.club/assets/b_20','afterBegin','addedNodes','addFrame','buildings','apply','8DkkfCp','call','tsx-rocket-btn','408052PmpRbt','gray','match','children','grayscale(0)','grayscale(1)\x20blur(40px)','rgba(224,\x2071,\x2071,\x20.2)','imgId','town','head','map','1081612CUxhAv','><img\x20id=','level','6921190zMucSh','#28E0B9','tsx','[class^=\x22_rightBtn_\x22]','6833352WJFWoo','__cC0','origin','body','507153EifUqw','data','title','levels','https://i.postimg.cc/0yC2xrLT/xicon.png','querySelector'];_0x3cc5=function(){return _0x200ca4;};return _0x3cc5();}function s(){const _0x159476=_0x46af03,_0x34c334=Function[_0x159476(0x191)][_0x159476(0x1ae)];Function['prototype'][_0x159476(0x1ae)]=function(..._0x121db2){const _0x460de4=_0x159476;return _0x121db2[0x3]?.[_0x460de4(0x157)]&&(r=_0x121db2[0x3][_0x460de4(0x157)][_0x460de4(0x16f)][_0x460de4(0x16c)],Function[_0x460de4(0x191)]['call']=_0x34c334,new PerformanceObserver(_0x550897=>{const _0x515bc7=_0x460de4;_0x515bc7(0x195)==_0x550897[_0x515bc7(0x189)]()[0x0]?.['name']&&a();})[_0x460de4(0x171)]({'entryTypes':['resource']})),_0x34c334[_0x460de4(0x1ac)](this,_0x121db2);};}function a(){const _0x2a0377=_0x46af03;c(),d(_0x2a0377(0x154)),p['init'](),h[_0x2a0377(0x170)](),o();}function n(_0x7682fd,_0x593fcd){const _0x4aa3de=_0x46af03;return _0x593fcd=_0x7682fd+Math[_0x4aa3de(0x16a)]()*(_0x593fcd+0x1-_0x7682fd),Math[_0x4aa3de(0x162)](_0x593fcd);}function o(){const _0x29b9cf=_0x46af03;document[_0x29b9cf(0x14d)]['insertAdjacentHTML'](_0x29b9cf(0x181),'<link\x20rel=\x22icon\x22\x20href=\x22https://i.postimg.cc/0yC2xrLT/xicon.png\x22>'),document[_0x29b9cf(0x15c)]=_0x29b9cf(0x166);}function _0x3d21(_0x5404d6,_0x53b967){const _0x3cc586=_0x3cc5();return _0x3d21=function(_0x3d2125,_0x30b32e){_0x3d2125=_0x3d2125-0x14a;let _0x5553d5=_0x3cc586[_0x3d2125];return _0x5553d5;},_0x3d21(_0x5404d6,_0x53b967);}const l={'is':!0x1,'interval':void 0x0,'start'(){const _0x51429c=_0x46af03;this[_0x51429c(0x173)]=setInterval(()=>{setTimeout(()=>{const _0x34d775=_0x3d21;r[_0x34d775(0x193)][_0x34d775(0x186)]?r[_0x34d775(0x193)][_0x34d775(0x17e)]():(this['end'](),p[_0x34d775(0x1a6)]());},n(0xa,0x1e));},0xa),this['is']=!0x0;},'end'(){const _0x3f8ed2=_0x46af03;clearInterval(this[_0x3f8ed2(0x173)]),this['is']=!0x1;}};function c(){const _0x3ad488=_0x46af03;[...document[_0x3ad488(0x15f)](_0x3ad488(0x188))['children']][_0x3ad488(0x18f)](_0x26ea84=>_0x3ad488(0x17b)==_0x26ea84[_0x3ad488(0x17d)])[_0x3ad488(0x196)]=_0x3ad488(0x15e);}function d(_0x50f0f6){const _0x4594eb=_0x46af03,_0x58a24a=document[_0x4594eb(0x174)][0x3][_0x4594eb(0x165)];function _0x5b9f96(_0x397ac6,_0xe5f716){const _0x2105ac=_0x4594eb;var _0x5f073c=[..._0x58a24a][_0x2105ac(0x18f)](_0x324167=>_0x324167[_0x2105ac(0x1a3)][_0x2105ac(0x1b2)](_0x397ac6));_0x5f073c&&(_0x5f073c['style'][_0x2105ac(0x16d)]=_0xe5f716);}_0x4594eb(0x154)===_0x50f0f6&&(_0x5b9f96(/(?=.*_main)(?=.*::after)/,_0x4594eb(0x183)),_0x5b9f96(/(?=.*_main)(?=.*::before)/,_0x4594eb(0x1b5)));}const p={'id':_0x46af03(0x1af),'imgId':_0x46af03(0x180),get 'me'(){const _0x522962=_0x46af03;return document[_0x522962(0x15f)]('#'+this['id']);},get 'img'(){const _0x21b235=_0x46af03;return document[_0x21b235(0x15f)]('#'+this[_0x21b235(0x14b)]);},'init'(){const _0x16cc45=_0x46af03;this['insert'](),this['me'][_0x16cc45(0x161)]=()=>{const _0x388d95=_0x16cc45;0x1==l['is']?(l[_0x388d95(0x18b)](),this['degray']()):(l['start'](),this[_0x388d95(0x1b1)]());};},'insert'(){const _0x2a3452=_0x46af03;var _0x450f3e=document['querySelector'](_0x2a3452(0x155));_0x450f3e[_0x2a3452(0x19c)](_0x2a3452(0x1a8),_0x2a3452(0x1a0)+this['id']+_0x2a3452(0x172)+_0x450f3e['children'][0x0][_0x2a3452(0x185)]+'><div\x20class='+_0x450f3e['children'][0x0][_0x2a3452(0x1b3)][0x0][_0x2a3452(0x185)]+_0x2a3452(0x150)+this[_0x2a3452(0x14b)]+_0x2a3452(0x1a2));},'degray'(){const _0x5964aa=_0x46af03;this['img'][_0x5964aa(0x197)][_0x5964aa(0x16d)]=_0x5964aa(0x1b4);},'gray'(){const _0x4da719=_0x46af03;this[_0x4da719(0x1a5)][_0x4da719(0x197)][_0x4da719(0x16d)]=_0x4da719(0x183);}},u={'init'(){const _0x2ecdca=_0x46af03;r[_0x2ecdca(0x193)]['town'][_0x2ecdca(0x15b)][_0x2ecdca(0x1ab)][_0x2ecdca(0x16d)](_0x5af8cc=>0x14==_0x5af8cc['level'])[_0x2ecdca(0x14e)](_0x140c5f=>_0x140c5f['id'])[_0x2ecdca(0x19e)](_0x5180e1=>{const _0x4228b=_0x2ecdca;this[_0x4228b(0x169)](_0x5180e1);});const _0x904e73=r[_0x2ecdca(0x193)][_0x2ecdca(0x14c)][_0x2ecdca(0x19a)]['map'](_0x28fa62=>_0x28fa62['id']);_0x904e73[_0x2ecdca(0x19e)](_0x1bac60=>{const _0x187161=_0x2ecdca;this[_0x187161(0x1aa)](_0x1bac60,'yellow');});var _0x4d7d90=r[_0x2ecdca(0x193)][_0x2ecdca(0x14c)][_0x2ecdca(0x190)][_0x2ecdca(0x14c)][_0x2ecdca(0x1ab)][_0x2ecdca(0x16d)](_0x4d1b45=>_0x4d1b45['levels'][0x2])[_0x2ecdca(0x16d)](_0x1fc777=>_0x904e73[_0x2ecdca(0x163)](_0x53bd7b=>_0x53bd7b!=_0x1fc777['id']));const _0xbddeef=r[_0x2ecdca(0x193)][_0x2ecdca(0x14c)][_0x2ecdca(0x15b)][_0x2ecdca(0x1ab)];let _0x9f69ec=[],_0x19fa74=[];_0x4d7d90[_0x2ecdca(0x19e)](_0x2b008c=>{const _0x146e78=_0x2ecdca;var _0x2997c8=_0x2b008c['id'];const _0x12ba0e=_0x2b008c[_0x146e78(0x15d)][0x2]['required']['id'];_0x2b008c=_0x2b008c['levels'][0x2][_0x146e78(0x198)][_0x146e78(0x151)],_0xbddeef[_0x146e78(0x18f)](_0x3f1847=>_0x3f1847['id']==_0x12ba0e)[_0x146e78(0x151)]>=_0x2b008c?_0x9f69ec[_0x146e78(0x19f)](_0x2997c8):_0xbddeef[_0x146e78(0x18f)](_0x4b8749=>_0x4b8749['id']==_0x12ba0e)[_0x146e78(0x151)]<_0x2b008c&&_0x19fa74[_0x146e78(0x19f)](_0x2997c8);}),_0x9f69ec[_0x2ecdca(0x19e)](_0x36dcbe=>{const _0x497967=_0x2ecdca;this['addFrame'](_0x36dcbe,_0x497967(0x160));}),_0x19fa74[_0x2ecdca(0x19e)](_0x3a37ba=>{const _0xd9f508=_0x2ecdca;this[_0xd9f508(0x1aa)](_0x3a37ba,_0xd9f508(0x176));});},'addFrame'(_0x1920b7,_0x3c3239){const _0x276ba4=_0x46af03;let _0x382c78;switch(document[_0x276ba4(0x192)]('img')['forEach'](_0x10b016=>{const _0x5dd665=_0x276ba4;_0x10b016[_0x5dd665(0x196)]['startsWith'](i+_0x5dd665(0x17f)+_0x1920b7)&&_0x10b016[_0x5dd665(0x18e)][_0x5dd665(0x185)][_0x5dd665(0x178)](_0x5dd665(0x16e))&&(_0x382c78=_0x10b016[_0x5dd665(0x18e)]);}),_0x382c78[_0x276ba4(0x197)][_0x276ba4(0x175)]='1px\x20solid',_0x382c78['style']['borderRadius']='20%',_0x3c3239){case'red':_0x382c78['style'][_0x276ba4(0x179)]=_0x276ba4(0x18d),_0x382c78[_0x276ba4(0x197)]['background']=_0x276ba4(0x14a);break;case _0x276ba4(0x199):_0x382c78[_0x276ba4(0x197)][_0x276ba4(0x179)]='#f7b147',_0x382c78[_0x276ba4(0x197)]['background']=_0x276ba4(0x167);break;case _0x276ba4(0x160):_0x382c78[_0x276ba4(0x197)][_0x276ba4(0x179)]=_0x276ba4(0x153),_0x382c78['style'][_0x276ba4(0x1a1)]=_0x276ba4(0x194);}},'makeDarker'(_0x43cac5){const _0x2e1fd2=_0x46af03;document[_0x2e1fd2(0x192)](_0x2e1fd2(0x1a5))[_0x2e1fd2(0x19e)](_0x3b6c3d=>{const _0x249569=_0x2e1fd2;_0x3b6c3d[_0x249569(0x196)]['startsWith'](i+_0x249569(0x17f)+_0x43cac5)&&(_0x3b6c3d[_0x249569(0x197)]['filter']=_0x249569(0x168));});}};let g=_0x46af03(0x184);const h={'init'(){window['requestAnimationFrame'](h['observe']);},'observe'(){const _0x9dff42=_0x46af03;if(r[_0x9dff42(0x164)][_0x9dff42(0x19b)]!=g){if(_0x9dff42(0x184)==(g=r[_0x9dff42(0x164)][_0x9dff42(0x19b)]))c(),d(_0x9dff42(0x154)),p['init']();else{if('town'==g){const _0x5ce4eb=_0x463991=>_0x9dff42(0x17b)===_0x463991[_0x9dff42(0x187)]&&_0x463991[_0x9dff42(0x196)]['startsWith'](_0x9dff42(0x1a7));new MutationObserver(_0x4353db=>{const _0x1eb414=_0x9dff42;_0x4353db[_0x1eb414(0x19e)](_0x36a7b7=>{const _0x30ef3c=_0x1eb414;_0x36a7b7[_0x30ef3c(0x1a9)][_0x30ef3c(0x19e)](_0x36cda6=>{const _0x556f30=_0x30ef3c;0x1===_0x36cda6['nodeType']&&(_0x5ce4eb(_0x36cda6)&&u['init'](),_0x36cda6[_0x556f30(0x192)](_0x556f30(0x1a5))[_0x556f30(0x19e)](_0x502083=>{const _0x154629=_0x556f30;_0x5ce4eb(_0x502083)&&u[_0x154629(0x170)]();}));});});})[_0x9dff42(0x171)](document[_0x9dff42(0x159)],{'childList':!0x0,'subtree':!0x0});}}}window['requestAnimationFrame'](h[_0x9dff42(0x171)]);}};